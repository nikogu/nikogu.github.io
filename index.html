<!doctype html>
<meta charset="utf-8">
<title>niko's github page</title>
<style>
body, html {
	padding: 0;
	margin: 0;
	overflow: hidden;
}
#canvas {
	background-color: #000000;
}
#alert-box {
	background-color: #4d90fe;
	box-shadow: 0 0 10px rgba(255, 255, 255, 0.4);
	color: #ffffff;
	cursor: pointer;
	display: block;
	position: fixed;
	top: 300px;
	left: 50%;
	margin-left: -200px;
	font-size: 30px;
	font-weight: bold;
	width: 400px;
	height: 50px;
	line-height: 50px;
	text-align: center;
	letter-spacing: 0.2em;
}
</style>
<canvas id="canvas" width="" height=""></canvas>
<p id="alert-box">Hello Stranger.</p>
<script type="text/javascript">
//animation utils.js

var utils = {};

//requestAnimationFrame
(function() {
	if (!window.requestAnimationFrame) {
		window.requestAnimationFrame = (window.webkitRequestAnimationFrame ||
			window.mozRequestAnimationFrame ||
			window.oRequestAnimationFrame ||
			window.msRequestAnimationFrame ||
			function(callback) {
				return window.setTimeout(callback, 1000 / 60);
			});
	}
	if ( !window.cancelAnimationFrame ) {
		window.cancelAnimationFrame = window.webkitCancelRequestAnimationFrame ||
			window.clearTimeout;
	}
})();

//mouse
utils.captureMouse = function( element ) {
	var mouse = {x:0, y:0};
	element.addEventListener('mousemove', function(event) {
		event.preventDefault();
		var x, y;
		if ( event.pageX || event.pageY ) {
			x = event.pageX;
			y = event.pageY;
		} else {
			x = event.clientX + document.body.scrollLeft +
				document.documentElement.scrollLeft;
			y = event.clientY + document.body.scrollTop +
				document.documentElement.scrollTop;
		}
		x -= element.offsetLeft;
		y -= element.offsetTop;

		mouse.x = x;
		mouse.y = y;

	}, false);
	return mouse;
}

utils.captureTouch = function( element ) {
	var touch = {x:null, y:null, isPressed:false};

	element.addEventListener('touchstart', function(event) {
		touch.isPressed = true;
	}, false);

	element.addEventListener('touchend', function(event) {
		touch.isPressed = false;
		touch.x = null;
		touch.y = null;
	}, false);

	element.addEventListener('touchmove', function(event) {
		var x, y;
		var touchEvent = event.touches[0];

		if ( touchEvent.pageX || touchEvent.pageY ) {
			x = touchEvent.pageX;
			y = touchEvent.pageY;
		} else {
			x = touchEvent.clientX + document.body.scrollLeft +
				document.documentElement.scrollLeft;
			y = touchEvent.clientY + document.body.scrollTop +
				document.documentElement.scrollTop;
		}
		x -= element.offsetLeft;
		y -= element.offsetTop;

		touch.x = x;
		touch.y = y;
	}, false);
	return touch;
}

//color
utils.colorToRGB = function(color, alpha) {
	if ( typeof color == ' string' && color[0] == '#' ) {
		color = window.parseInt(color.slice(1), 16);
	}
	alpha = alpha || 1;

	var r = color >> 16 && 0xff,
		g = color >> 8 && 0xff,
		b = color & 0xff,
		a = (alpha < 0) ? 0 : ((alpha > 1) ? 1 :alpha);	

	if ( a == 1 ) {
		return "rgb("+r+","+g+","+b+")";
	} else {
		return "rgba("+r+","+g+","+b+","+a+")";
	}
}

utils.parseColor = function ( color, toNumber ) {
	if ( toNumber == true ) {
		if ( typeof color == 'number' ) {
			return (color | 0);
		}
		if ( typeof color == 'string' && color[0] == '#') {
			color = color.slice(1);
		}
		return window.parseInt(color, 16);
	} else {
		if ( typeof color == 'number') {
			color = '#' + ('00000' + (color|0).toString(16)).substr(-6);
		}		
		return color;
	}
}

utils.containsPointRect = function(rect, x, y) {
	return !( x < rect.x || x > rect.x+rect.width || y < rect.y || y > rect.y+rect.height);
}
utils.containsPointCircle = function(circle, x, y) {
	return !!(Math.sqrt((x-circle.x)*(x-circle.x)+(y-circle.y)*(y-circle.y))<=circle.radius);
}
utils.random = function(min, max) {
	return Math.floor(Math.random()*(max+1-min))+min;
}
utils.intersects = function(rect1, rect2) {
	return !(rect1.x + rect1.width < rect2.x ||
		rect2.x + rect2.width < rect1.x ||
		rect1.y + rect1.height < rect2.y ||
		rect2.y + rect2.height < rect1.y);
}
</script>
<script type="text/javascript">
function Line(x, y, len, color) {
	this.x = x || 0;
	this.y = y || 0;
	this.length = len;
	this.rotation = 0;
	this.scaleX = 1;
	this.scaleY = 1;
	this.lineWidth = 1;
	this.color = color || '#000000';
}
Line.prototype.draw = function(ctx) {
	ctx.save();
	ctx.strokeStyle = this.color;
	ctx.translate(this.x, this.y);
	ctx.rotate(this.rotation);
	ctx.scale(this.scaleX, this.scaleY);
	ctx.lineWidth = this.lineWidth;
	ctx.beginPath();
	ctx.moveTo(0, 0);
	ctx.lineTo(this.length, 0);
	ctx.closePath();
	ctx.stroke();
	ctx.restore();
}
</script>
<script type="text/javascript">
	var canvas = document.getElementById('canvas'),
		ctx = canvas.getContext('2d');

	canvas.width = window.innerWidth;
	canvas.height = window.innerHeight;

	var mouse = utils.captureMouse(canvas);
	var centerX = canvas.width/2,
		centerY = canvas.height/2;

	var num = 300;
	var lines = [];

	for ( var i = num; i--; ) {
		var line = new Line(utils.random(50, canvas.width-50), utils.random(50, canvas.height-50), 0, '#ffffff');
		line.y = utils.random(50, canvas.height-50);
		line.am = 0.1;
		line.dx = line.x - centerX;
		line.dy = line.y - centerY;
		line.rotation = Math.atan2(line.dy, line.dx);
		line.v = 1;
		line.length = 0;
		lines.push(line);
	}

	function reflow(line) {
		var left = 0,
			right = canvas.width,
			top = 0,
			bottom = canvas.height;

		if ( line.x + line.length > right || line.x + line.length < left ||
			line.y + line.length > bottom || line.y+line.length < top ) {
			line.x = utils.random(50, canvas.width-50);	
			line.y = utils.random(50, canvas.height-50);
			line.am = 0.1;
			line.dx = line.x - centerX;
			line.dy = line.y - centerY;
			line.rotation = Math.atan2(line.dy, line.dx);
			line.v = 1;
			line.length = 0;
		}
	}

	var isRelase = true;
	
	document.getElementById('alert-box').addEventListener('click', function() {
		if ( canvas.webkitRequestFullScreen ) {
			canvas.webkitRequestFullScreen();
			document.getElementById('alert-box').style.display = 'none';
			drawFrame();
		} else {
			alert('using the fucking chrome!!!')
		}
	}, false);	

	//ctx.fillStyle = 'rgba(0,0,0,0.1)';
	function drawFrame(){
		window.requestAnimationFrame(drawFrame, canvas);	
		//ctx.fillRect(0, 0, canvas.width, canvas.height);
		ctx.clearRect(0, 0, canvas.width, canvas.height);

		var dx = mouse.x - canvas.width/2,
			dy = mouse.y - canvas.height/2,
			deg = Math.atan2(dy, dx),
			dist = Math.sqrt(dx*dx+dy*dy);

		centerX = canvas.width/2 - dx;
		centerY = canvas.height/2 - dy;

		for (var i = lines.length; i--; ) {
			lines[i].dx = lines[i].x - centerX;
			lines[i].dy = lines[i].y - centerY;
			lines[i].rotation = Math.atan2(lines[i].dy, lines[i].dx);
			lines[i].am += 0.1 + dist*0.0001;
			lines[i].v += lines[i].am;
			lines[i].length = lines[i].v*lines[i].v*lines[i].v*0.0002+1;
			lines[i].vx = lines[i].v*Math.cos(lines[i].rotation);
			lines[i].vy = lines[i].v*Math.sin(lines[i].rotation);
			lines[i].x += lines[i].vx;
			lines[i].y += lines[i].vy;
			reflow(lines[i]);
			lines[i].draw(ctx);
		}

	};

</script>